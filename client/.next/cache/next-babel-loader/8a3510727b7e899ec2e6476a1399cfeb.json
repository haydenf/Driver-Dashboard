{"ast":null,"code":"var _jsxFileName = \"/home/phillip/Desktop/work/Driver-Dashboard/client/pages/dashboard.js\";\nvar __jsx = React.createElement;\nimport DashboardView from '../src/pages/Dashboard/DashboardView';\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport Cookiez from 'next-cookies';\nimport fetch from 'node-fetch';\nimport { Redirect } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http';\nconst link = createHttpLink({\n  uri: '/graphql',\n  fetch: fetch\n});\nexport default function DashboardPage(props) {\n  // TODO if not logged in redirect to login\n  if (Cookies.get('GofarDashboardToken') && Cookies.get('GofarDashboardUserId')) {\n    __jsx(Redirect, {\n      to: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    });\n  } else {\n    __jsx(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    });\n  }\n\n  const client = new ApolloClient({\n    uri: 'https://jt63wdhqqre6rpjo5lnylfhjqm.appsync-api.ap-southeast-2.amazonaws.com/graphql',\n    headers: {\n      Authorization: Cookies.get('GofarDashboardToken'),\n      UserID: Cookies.get('GofarDashboardUserId'),\n      'X-API-KEY': 'da2-d5trhzrnqraznclr2teue2bmmu'\n    },\n    fetch\n  });\n  return __jsx(ApolloProvider, {\n    client: client,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(DashboardView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }));\n}\n\nDashboardPage.getInitialProps = ctx => {\n  console.log(\"Dashboard GetinitialProps\", ctx);\n  return {\n    cookiez: Cookiez(ctx) || ''\n  };\n};","map":{"version":3,"sources":["/home/phillip/Desktop/work/Driver-Dashboard/client/pages/dashboard.js"],"names":["DashboardView","React","Cookies","Cookiez","fetch","Redirect","ApolloClient","ApolloProvider","createHttpLink","link","uri","DashboardPage","props","get","client","headers","Authorization","UserID","getInitialProps","ctx","console","log","cookiez"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,sCAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,MAAMC,IAAI,GAAGD,cAAc,CAAC;AAAEE,EAAAA,GAAG,EAAE,UAAP;AAAmBN,EAAAA,KAAK,EAAEA;AAA1B,CAAD,CAA3B;AAEA,eAAe,SAASO,aAAT,CAAuBC,KAAvB,EAA8B;AAC3C;AACA,MACEV,OAAO,CAACW,GAAR,CAAY,qBAAZ,KACAX,OAAO,CAACW,GAAR,CAAY,sBAAZ,CAFF,EAGE;AACA,UAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GALD,MAKO;AACL,UAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,QAAMC,MAAM,GAAG,IAAIR,YAAJ,CAAiB;AAC9BI,IAAAA,GAAG,EACD,qFAF4B;AAG9BK,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAEd,OAAO,CAACW,GAAR,CAAY,qBAAZ,CADR;AAEPI,MAAAA,MAAM,EAAEf,OAAO,CAACW,GAAR,CAAY,sBAAZ,CAFD;AAGP,mBAAa;AAHN,KAHqB;AAQ9BT,IAAAA;AAR8B,GAAjB,CAAf;AAWA,SACE,MAAC,cAAD;AAAgB,IAAA,MAAM,EAAEU,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAEDH,aAAa,CAACO,eAAd,GAAgCC,GAAG,IAAI;AACrCC,EAAAA,OAAO,CAACC,GAAR,8BAAyCF,GAAzC;AACA,SAAO;AACLG,IAAAA,OAAO,EAAEnB,OAAO,CAACgB,GAAD,CAAP,IAAgB;AADpB,GAAP;AAGD,CALD","sourcesContent":["import DashboardView from '../src/pages/Dashboard/DashboardView';\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport Cookiez from 'next-cookies';\nimport fetch from 'node-fetch';\nimport { Redirect } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });\n\nexport default function DashboardPage(props) {\n  // TODO if not logged in redirect to login\n  if (\n    Cookies.get('GofarDashboardToken') &&\n    Cookies.get('GofarDashboardUserId')\n  ) {\n    <Redirect to=\"/dashboard\" />;\n  } else {\n    <Redirect to=\"/login\" />;\n  }\n\n  const client = new ApolloClient({\n    uri:\n      'https://jt63wdhqqre6rpjo5lnylfhjqm.appsync-api.ap-southeast-2.amazonaws.com/graphql',\n    headers: {\n      Authorization: Cookies.get('GofarDashboardToken'),\n      UserID: Cookies.get('GofarDashboardUserId'),\n      'X-API-KEY': 'da2-d5trhzrnqraznclr2teue2bmmu',\n    },\n    fetch,\n  });\n\n  return (\n    <ApolloProvider client={client}>\n      <DashboardView />\n    </ApolloProvider>\n  );\n}\n\nDashboardPage.getInitialProps = ctx => {\n  console.log(`Dashboard GetinitialProps`, ctx);\n  return {\n    cookiez: Cookiez(ctx) || '',\n  };\n};\n"]},"metadata":{},"sourceType":"module"}